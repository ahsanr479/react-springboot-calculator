(this["webpackJsonpcalculator-react"]=this["webpackJsonpcalculator-react"]||[]).push([[0],{21:function(t,e,a){t.exports=a(50)},26:function(t,e,a){},28:function(t,e,a){},29:function(t,e,a){},30:function(t,e,a){},49:function(t,e,a){},50:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(19),o=a.n(i),s=(a(26),a(2)),c=a.n(s),l=a(9),u=a(4),h=a(5),p=a(8),f=a(6),m=a(1),b=a(7),d=(a(28),function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{id:"parenthesis-open",onClick:this.props.onParenthesis},"("),r.a.createElement("button",{id:"parenthesis-close",onClick:this.props.onParenthesis},")"),r.a.createElement("button",{id:"modulo",onClick:this.props.onOperator},"%"),r.a.createElement("button",{id:"clear",onClick:this.props.onClear},"AC"),r.a.createElement("button",{id:"seven",onClick:this.props.onDigit},"7"),r.a.createElement("button",{id:"eight",onClick:this.props.onDigit},"8"),r.a.createElement("button",{id:"nine",onClick:this.props.onDigit},"9"),r.a.createElement("button",{id:"divide",onClick:this.props.onOperator},"/"),r.a.createElement("button",{id:"four",onClick:this.props.onDigit},"4"),r.a.createElement("button",{id:"five",onClick:this.props.onDigit},"5"),r.a.createElement("button",{id:"six",onClick:this.props.onDigit},"6"),r.a.createElement("button",{id:"multiply",onClick:this.props.onOperator},"*"),r.a.createElement("button",{id:"one",onClick:this.props.onDigit},"1"),r.a.createElement("button",{id:"two",onClick:this.props.onDigit},"2"),r.a.createElement("button",{id:"three",onClick:this.props.onDigit},"3"),r.a.createElement("button",{id:"subtract",onClick:this.props.onOperator},"-"),r.a.createElement("button",{id:"zero",onClick:this.props.onDigit},"0"),r.a.createElement("button",{id:"decimal",onClick:this.props.onDecimal},"."),r.a.createElement("button",{id:"equals",onClick:this.props.onEqual},"="),r.a.createElement("button",{id:"add",onClick:this.props.onOperator},"+"))}}]),e}(r.a.Component));a(29);var y=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(p.a)(this,Object(f.a)(e).call(this,t))).historyList=r.a.createRef(),a}return Object(b.a)(e,t),Object(h.a)(e,[{key:"componentDidUpdate",value:function(){var t;(function(t){return t.scrollHeight>t.clientHeight})(t=this.historyList.current)?t.style.overflowY="scroll":t.style.overflowY="initial",function(t){return t.scrollWidth>t.clientWidth}(t)?t.style.overflowX="scroll":t.style.overflowX="initial"}},{key:"render",value:function(){var t=this,e=this.props.isShowHistory?"history":"history hidden";return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"history-list",ref:this.historyList},this.props.history.map((function(e,a){return r.a.createElement("div",{key:a,className:"history-item"},r.a.createElement("div",{className:"history-item-formula"},e.formula.join("")),r.a.createElement("div",{className:"history-item-result",value:e.result,onClick:t.props.onHistoryItemClicked},"=",e.result),r.a.createElement("hr",null))}))),r.a.createElement("div",{className:"bottom-btns"},r.a.createElement("button",{id:"clear-history",onClick:this.props.onClearHistory},"Clear"),r.a.createElement("button",{id:"calculate",onClick:this.props.onEqual},"Equal")))}}]),e}(r.a.Component),v=(a(30),function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(p.a)(this,Object(f.a)(e).call(this,t))).onTextareaChanged=a.onTextareaChanged.bind(Object(m.a)(a)),a}return Object(b.a)(e,t),Object(h.a)(e,[{key:"onTextareaChanged",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"display-toolbar"},r.a.createElement("form",{className:"display"},r.a.createElement("textarea",{className:"display-formula",onChange:this.onTextareaChanged,value:this.props.formula.join("")}),r.a.createElement("textarea",{className:"display-input",id:"display",rows:"1",onChange:this.onTextareaChanged,value:this.props.input})),r.a.createElement("div",{className:"toolbar"},r.a.createElement("div",{className:"toolbar-item",id:"view-history",onClick:this.props.onHistory},this.props.isShowHistory?"Keypad":"History"),r.a.createElement("div",null,r.a.createElement("a",{className:"toolbar-item",title:"View source on Github",href:this.props.githubURL,id:"view-github"},r.a.createElement("i",{className:"fab fa-github"})),r.a.createElement("span",{className:"toolbar-item",onClick:this.props.onBackspace,id:"backspace"},r.a.createElement("i",{className:"fas fa-backspace"})))))}}]),e}(r.a.Component)),k=a(20),C=a.n(k);function g(t){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(c.a.mark((function t(e){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=S(e),t.next=4,B(a);case 4:return n=t.sent,console.log(n,"evaluate func"),t.abrupt("return",n);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function O(t){return"("===t||")"===t||"+"===t||"-"===t||"*"===t||"/"===t||"%"===t}function j(t){return!O(t)}function w(t){return"+"===t||"-"===t||"*"===t||"/"===t||"%"===t}function x(t){return"+"===t||"-"===t?1:"*"===t||"/"===t||"%"===t?2:0}function S(t){var e=[],a=[];for(t.forEach((function(t){if(j(t))e.push(t);else if("("===t)a.push(t);else if(")"===t)for(;a.length>0;){var n=a.pop();if("("===n)break;e.push(n)}else if(w(t)){for(;a.length>0;){var r=a[a.length-1];if(!(w(r)&&x(r)>=x(t)))break;e.push(r),a.pop()}a.push(t)}else console.log("Something else!!!")}));a.length>0;)e.push(a.pop());return e}function H(t,e,a){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(c.a.mark((function t(e,a,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.post("https://cors-anywhere.herokuapp.com/https://ahsan-calc-spring.herokuapp.com/".concat(e,"?firstNum=").concat(a,"&secondNum=").concat(n));case 2:return r=t.sent,console.log(r.data.total),console.log("hello"),t.abrupt("return",r.data.total);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(t,e,a,n){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(c.a.mark((function t(e,a,n,r){var i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("in calc func"),i=r,t.prev=2,t.t0=e,t.next="+"===t.t0?6:"-"===t.t0?10:"*"===t.t0?14:"/"===t.t0?18:"%"===t.t0?23:27;break;case 6:return t.next=8,H("add",n,a);case 8:return i=t.sent,t.abrupt("break",28);case 10:return t.next=12,H("substract",n,a);case 12:return i=t.sent,t.abrupt("break",28);case 14:return t.next=16,H("multiply",n,a);case 16:return i=t.sent,t.abrupt("break",28);case 18:return 0!==a&&0!==n||alert("cant divide by zero"),t.next=21,H("divide",n,a);case 21:return i=t.sent,t.abrupt("break",28);case 23:return t.next=25,H("percentage",a,n);case 25:return i=t.sent,t.abrupt("break",28);case 27:console.log("Something else!!!");case 28:return console.log(i),t.abrupt("return",i);case 32:t.prev=32,t.t1=t.catch(2);case 34:case"end":return t.stop()}}),t,null,[[2,32]])})))).apply(this,arguments)}function I(t,e){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(c.a.mark((function t(e,a){var n,r,i,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=0;case 2:if(!(n<e.length)){t.next=17;break}if(!j(e[n])){t.next=7;break}a.push(e[n]),t.next=14;break;case 7:if(!w(e[n])){t.next=14;break}return r=Number.parseFloat(a.pop()),i=Number.parseFloat(a.pop()),o="",t.next=12,D(e[n],r,i,o);case 12:o=t.sent,a.push(o+"");case 14:n++,t.next=2;break;case 17:return t.abrupt("return",a);case 20:t.prev=20,t.t0=t.catch(0);case 22:case"end":return t.stop()}}),t,null,[[0,20]])})))).apply(this,arguments)}function B(t){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(c.a.mark((function t(e){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],console.log("in main function"),t.prev=2,t.next=5,I(e,a);case 5:return a=t.sent,console.log(a),t.abrupt("return",Number.parseFloat(a[0]));case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}a(49);var L=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(p.a)(this,Object(f.a)(e).call(this,t))).state={formula:[],history:[],input:"0",isShowHistory:!1,afterCalculation:!1},a.onDigit=a.onDigit.bind(Object(m.a)(a)),a.onOperator=a.onOperator.bind(Object(m.a)(a)),a.onClear=a.onClear.bind(Object(m.a)(a)),a.onEqual=a.onEqual.bind(Object(m.a)(a)),a.onDecimal=a.onDecimal.bind(Object(m.a)(a)),a.onParenthesis=a.onParenthesis.bind(Object(m.a)(a)),a.onBackspace=a.onBackspace.bind(Object(m.a)(a)),a.onHistory=a.onHistory.bind(Object(m.a)(a)),a.onHistoryItemClicked=a.onHistoryItemClicked.bind(Object(m.a)(a)),a.onClearHistory=a.onClearHistory.bind(Object(m.a)(a)),a}return Object(b.a)(e,t),Object(h.a)(e,[{key:"onDigit",value:function(t){var e=t.target.innerText,a=this.state.input;this.state.afterCalculation?this.setState({input:e,afterCalculation:!1}):"0"===a?this.setState({input:e}):O(a)?this.setState({input:e,formula:this.state.formula.concat(a)}):this.setState({input:a.concat(e)})}},{key:"onDecimal",value:function(t){var e=t.target.innerText,a=this.state.input;this.state.afterCalculation?this.setState({input:"0".concat(e),afterCalculation:!1}):O(a)?this.setState({input:"0".concat(e),formula:this.state.formula.concat(a)}):a.includes(e)||this.setState({input:a.concat(e)})}},{key:"onOperator",value:function(t){var e=t.target.innerText,a=this.state.input;w(a)?this.setState({input:e,afterCalculation:!1}):"("!==a&&this.setState({formula:this.state.formula.concat(this.state.input),input:e,afterCalculation:!1})}},{key:"onParenthesis",value:function(t){var e=t.target.innerText,a=this.state.input;if("("===e)j(a)&&"0"!==a||j(a)&&"0"===a&&this.state.formula.length>0||")"===a?this.setState({input:e,formula:this.state.formula.concat([a,"*"]),afterCalculation:!1}):w(a)||"("===a?this.setState({input:e,formula:this.state.formula.concat(a),afterCalculation:!1}):j(a)&&"0"===a&&0===this.state.formula.length&&this.setState({input:e,afterCalculation:!1});else{var n=this.state.formula.join("").match(/\(/g),r=n?n.length:0,i=this.state.formula.join("").match(/\)/g),o=i?i.length:0;(j(a)||")"===a)&&r>0&&r>o&&this.setState({input:e,formula:this.state.formula.concat(a),afterCalculation:!1})}}},{key:"onClear",value:function(){this.setState({formula:[],input:"0",afterCalculation:!1})}},{key:"onBackspace",value:function(){var t=this.state.input,e=this.state.formula,a=t.length;"Infinity"===t||"-Infinity"===t||"NaN"===t?this.setState({input:"0",afterCalculation:!1}):a>1?this.setState({input:t.slice(0,a-1),afterCalculation:!1}):"0"!==t?this.setState({input:"0",afterCalculation:!1}):e.length>0&&this.setState({input:e[e.length-1],formula:e.slice(0,e.length-1),afterCalculation:!1})}},{key:"onEqual",value:function(){var t=Object(l.a)(c.a.mark((function t(){var e,a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(this.state.input),e=this.state.formula.concat(this.state.input),t.next=5,g(e);case 5:a=t.sent,Number.isNaN(a)||(n={formula:e,result:a},this.setState({input:a+"",formula:[],history:[].concat(n,this.state.history),afterCalculation:!0})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(){return t.apply(this,arguments)}}()},{key:"onHistory",value:function(){this.setState({isShowHistory:!this.state.isShowHistory})}},{key:"onClearHistory",value:function(){this.setState({history:[]})}},{key:"onHistoryItemClicked",value:function(t){var e=t.target.getAttribute("value"),a=this.state.input;j(a)?this.setState({input:e}):this.setState({input:e,formula:this.state.formula.concat(a)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"calculator"},r.a.createElement(v,{formula:this.state.formula,input:this.state.input,onBackspace:this.onBackspace,githubURL:this.props.githubURL,onHistory:this.onHistory,isShowHistory:this.state.isShowHistory}),r.a.createElement(d,{onClear:this.onClear,onEqual:this.onEqual,onDecimal:this.onDecimal,onDigit:this.onDigit,onOperator:this.onOperator,onParenthesis:this.onParenthesis}),r.a.createElement(y,{isShowHistory:this.state.isShowHistory,history:this.state.history,onHistoryItemClicked:this.onHistoryItemClicked,onEqual:this.onEqual,onClearHistory:this.onClearHistory})))}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.9cdd801f.chunk.js.map